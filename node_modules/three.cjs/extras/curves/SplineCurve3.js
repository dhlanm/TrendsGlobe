/**************************************************************
 *	Spline 3D curve
 **************************************************************/
var CurveUtilsModule = require('../CurveUtils');
var Vector3Module = require('../../math/Vector3');
var CurveModule = require('../core/Curve');
exports.SplineCurve3 = CurveModule.Curve.create(function (points) {
	this.points = points == undefined ? [] : points;
}, function (t) {
	var points = this.points;
	var point = (points.length - 1) * t;
	var intPoint = Math.floor(point);
	var weight = point - intPoint;
	var point0 = points[intPoint == 0 ? intPoint : intPoint - 1];
	var point1 = points[intPoint];
	var point2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];
	var point3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];
	var vector = new Vector3Module.Vector3();
	vector.x = CurveUtilsModule.CurveUtils.interpolate(point0.x, point1.x, point2.x, point3.x, weight);
	vector.y = CurveUtilsModule.CurveUtils.interpolate(point0.y, point1.y, point2.y, point3.y, weight);
	vector.z = CurveUtilsModule.CurveUtils.interpolate(point0.z, point1.z, point2.z, point3.z, weight);
	return vector;
});
if (typeof exports.SplineCurve3 === 'function')
	exports.SplineCurve3.prototype.isSplineCurve3 = true;