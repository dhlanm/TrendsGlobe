/**
 * @author alteredq / http://alteredqualia.com/
 */
var Matrix4Module = require('../math/Matrix4');
var MeshModule = require('../objects/Mesh');
var Object3DModule = require('../core/Object3D');
var SceneUtils;
SceneUtils = {
	createMultiMaterialObject: function (geometry, materials) {
		var group = new Object3DModule.Object3D();
		for (var i = 0, l = materials.length; i < l; i++) {
			group.add(new MeshModule.Mesh(geometry, materials[i]));
		}
		return group;
	},
	detach: function (child, parent, scene) {
		child.applyMatrix(parent.matrixWorld);
		parent.remove(child);
		scene.add(child);
	},
	attach: function (child, scene, parent) {
		var matrixWorldInverse = new Matrix4Module.Matrix4();
		matrixWorldInverse.getInverse(parent.matrixWorld);
		child.applyMatrix(matrixWorldInverse);
		scene.remove(child);
		parent.add(child);
	}
};
exports.SceneUtils = SceneUtils;