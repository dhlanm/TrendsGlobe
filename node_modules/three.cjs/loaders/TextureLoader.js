/**
 * @author mrdoob / http://mrdoob.com/
 */
var TextureModule = require('../textures/Texture');
var ImageLoaderModule = require('./ImageLoader');
var LoadingManagerModule = require('./LoadingManager');
var TextureLoader;
TextureLoader = function (manager) {
	this.manager = manager !== undefined ? manager : LoadingManagerModule.DefaultLoadingManager;
};
TextureLoader.prototype = {
	constructor: TextureLoader,
	load: function (url, onLoad, onProgress, onError) {
		var scope = this;
		var loader = new ImageLoaderModule.ImageLoader(scope.manager);
		loader.setCrossOrigin(this.crossOrigin);
		loader.load(url, function (image) {
			var texture = new TextureModule.Texture(image);
			texture.needsUpdate = true;
			if (onLoad !== undefined) {
				onLoad(texture);
			}
		}, onProgress, onError);
	},
	setCrossOrigin: function (value) {
		this.crossOrigin = value;
	}
};
TextureLoader.prototype.isTextureLoader = true;
exports.TextureLoader = TextureLoader;